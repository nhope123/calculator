{"version":3,"sources":["calculate.js","index.js"],"names":["sign","numbers","Button","type","value","this","props","id","tabindex","onClick","click","React","Component","Calculator","state","outputValue","inputValue","initialize","bind","putNumbers","putSign","putDecimal","putZero","calculate","excessOp","keyPressed","document","addEventListener","event","console","log","keyCode","includes","input","output","length","num","evaluate","setState","eqSign","key","target","slice","href","title","rel","className","aria-hidden","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.5c794e42.chunk.js","sourcesContent":["import React from 'react'\nimport {evaluate} from 'mathjs'\nimport './index.css';\n\n// Gobal variables\nlet sign = [\"/\",\"*\",\"-\",\"+\"];\nlet numbers = [\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\"];\n\n// component for all buttons\nclass Button extends React.Component{\n  render(){\n    return(\n        <button type=\"button\" value={this.props.value} id={this.props.id} tabindex='0' onClick={this.props.click}>\n          {this.props.value}\n        </button>\n    );\n  }\n}\n// Main calculator component\nexport class Calculator extends React.Component{\n  constructor(props){\n    super(props);\n    this.state = {\n                  outputValue: '0',\n                  inputValue: '0'\n                };\n    this.initialize = this.initialize.bind(this);\n    this.putNumbers = this.putNumbers.bind(this);\n    this.putSign    = this.putSign.bind(this);\n    this.putDecimal = this.putDecimal.bind(this);\n    this.putZero    = this.putZero.bind(this);\n    this.calculate  = this.calculate.bind(this);\n    this.excessOp   = this.excessOp.bind(this);\n    this.keyPressed = this.keyPressed.bind(this);\n  }\n  componentDidMount(){\n    document.addEventListener('keydown', this.keyPressed);\n  }\n  // Handle all keyboard keydown events\n  keyPressed(event){\n    console.log('keypress' + event.keyCode);\n    // if key pressed is a number\n    if ((event.keyCode > 48 && event.keyCode < 58 ) || (event.keyCode > 96 && event.keyCode < 106 )) {\n      this.putNumbers(event);\n    }    // If key pressed is a sign\n    else if ([106, 109, 107, 111, 191].includes(event.keyCode)) {\n      this.putSign(event);\n    }   // If key pressed is a zero\n    else if (event.keyCode === 48 || event.keyCode === 96) {\n      this.putZero(event);\n    }   // If key pressed is a decimal\n    else if (event.keyCode === 46 || event.keyCode === 110) {\n      this.putDecimal();\n    }\n  }\n  // Evaluate the diaplay expression and add result\n  calculate(){\n    var input  = this.state.inputValue;\n    var output = this.state.outputValue;\n    if (sign.includes(input)) {\n      output = this.excessOp();\n    }\n    else if (input[input.length -1] === '.') {\n      output += '0';\n    }\n    var num = evaluate(output) + '';\n    // display result of evaluation\n    this.setState({outputValue: (output + \"=\" + num ), inputValue: num});\n  }\n  // inputed zero is added to display\n  putZero(event){\n    var eqSign = (event.type === 'keydown') ? event.key : event.target.value\n    var input  = this.state.inputValue;\n    var output = this.state.outputValue;\n\n    if (output.includes('=') || input === 'Infinity' || input === 'NaN') {\n      this.initialize();\n    }\n    else if ( !(input === '0' || (input[input.length -1] === '0' && !input.includes('.') && !numbers.includes(input[0])))){\n      if (sign.includes(input)) {\n        this.setState({outputValue: (output + eqSign), inputValue: eqSign});\n      }\n      else {\n        this.setState({outputValue: (output + eqSign), inputValue: (input + eqSign)});\n      }\n    }\n  }\n  // removes consecutive signs\n  excessOp(){\n    var output = this.state.outputValue;\n    while (sign.includes(output[output.length -1])) {\n      output = output.slice(0,(output.length -1));\n    }\n    return output;\n  }\n  // inputed decimal is added to display\n  putDecimal(){\n    var eqSign = '.';\n    var input = this.state.inputValue;\n    var output = this.state.outputValue;\n\n    if (input === 'Infinity' || input === 'NaN') { // Adding decimal after Infinity or NaN error\n      this.initialize();\n    }\n    else if (output.includes('=')) { // Decimal after evaluation\n      this.setState({outputValue: '0.', inputValue: '0.'});\n    }\n    else if (sign.includes(input)){\n      this.setState({outputValue: (output + '0.'),\n                     inputValue: '0.'});\n    }\n    // If decimal not following a sign or input doesnot contain  decimal\n    else if (!(sign.includes(input) ||  input.includes(\".\"))) {\n      this.setState({outputValue: (output + eqSign),\n                     inputValue: (input + eqSign)});\n    }\n  }\n  // inputed sign is added to display\n  putSign(event){\n    // if value from keypress use key else use target value\n    var eqSign = (event.type === 'keydown') ? event.key : event.target.value\n\n    var input = this.state.inputValue;\n    var output = this.state.outputValue;\n    var badSign = ['/','*','+'];\n\n    if (input === 'Infinity' || input === 'NaN') {\n      this.initialize();\n    }\n    else if (output.includes('=')) {\n      this.setState({outputValue: (input + eqSign), inputValue: eqSign});\n    }\n    else if( input === '-' || (badSign.includes(eqSign) && sign.includes(input))){\n      this.setState({outputValue: (this.excessOp() + eqSign), inputValue: eqSign});\n    }\n    else if( input[input.length - 1] === \".\") {  // If last input is decimal add 0 then sign\n      this.setState({outputValue: (output + '0' + eqSign), inputValue: eqSign});\n    }\n    else{ // add sign to display\n      this.setState({outputValue: (output + eqSign), inputValue: eqSign});\n    }\n  }\n  // inputed number is added to display\n  putNumbers(event){\n    // if value from keypress use key else use target value\n    var num = (event.type === 'keydown') ? event.key : event.target.value\n\n    var input = this.state.inputValue;\n    var output = this.state.outputValue;\n    if (output.includes('=')) {\n      this.setState({outputValue: num, inputValue: num});\n    }\n    else if (input === '0') { // Only input number is zero\n      if (output === '0') { // Only output number is zero\n        this.setState({outputValue: num, inputValue: num}); // discard it add new number to both\n      }else {\n        this.setState({outputValue: (output + num), inputValue: num}); // Concatenate display\n      }\n    }\n    else if (sign.includes(input)) {\n      this.setState({outputValue: (output + num), inputValue: num}); // Concatenate display\n    }\n    else if (input.includes('Infinity')) {\n      this.setState({outputValue: num, inputValue: num});\n    }\n    else{ // preceed by number or decimal\n      this.setState({outputValue: (output + num), inputValue: (input + num)});\n    }\n  }\n  // Returns the calculator to its initialized state\n  initialize(){\n    this.setState({outputValue: '0', inputValue: '0'});\n  }\n  render(){\n    return(\n      <div >\n        <section id=\"calculator-container\">\n          <div id='cal-display' >\n            <div id='output' >\n              {this.state.outputValue}\n            </div>\n            <div id='display' >\n              {this.state.inputValue}\n            </div>\n\n          </div>\n          <article id='button-pad' >\n            {/* First row of buttons */}\n            <Button {...{id:'clear', value:'C', click: this.initialize }} />\n            <Button {...{id:'divide', value: sign[0], click: this.putSign }} />\n            <Button {...{id:'multiply', value: sign[1], click: this.putSign }} />\n            <Button {...{id:'subtract', value: sign[2], click: this.putSign }} />\n            {/* First row of buttons */}\n            <Button {...{id:'seven', value: numbers[6], click: this.putNumbers}} />\n            <Button {...{id:'eight', value: numbers[7], click: this.putNumbers}} />\n            <Button {...{id:'nine', value:numbers[8], click: this.putNumbers}} />\n            <Button {...{id:'add', value: sign[3], click: this.putSign }} />\n            {/* First row of buttons */}\n            <Button {...{id:'four', value: numbers[3], click: this.putNumbers}} />\n            <Button {...{id:'five', value: numbers[4], click: this.putNumbers}} />\n            <Button {...{id:'six', value: numbers[5], click: this.putNumbers}} />\n            {/* First row of buttons */}\n            <Button {...{id:'one', value: numbers[0], click: this.putNumbers}} />\n            <Button {...{id:'two', value: numbers[1], click: this.putNumbers}} />\n            <Button {...{id:'three', value: numbers[2], click: this.putNumbers}} />\n            {/* First row of buttons */}\n            <Button {...{id:'zero', value: '0', click: this.putZero}} />\n            <Button {...{id:'decimal', value:'.', click: this.putDecimal }} />\n            <Button {...{id:'equals', value:'=', click: this.calculate}} />\n\n          </article>\n        </section>\n        <div id='credit' >\n          by Nial\n          <a href=\"https://github.com/nhope123/calculator\" title='github repo' target='_blank' rel=\"noopener noreferrer\" >\n            <i className=\"fa fa-github\" aria-hidden=\"true\"></i>\n          </a>\n        </div>\n      </div>\n\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport * as cal from './calculate.js';\n\nReactDOM.render(\n    < cal.Calculator/>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}